{% extends 'base.html' %}


{% block title %}Payroll Manager{% endblock %}
{% block body %}
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

        * {
            font-family: 'Poppins', sans-serif;
        }
    </style>

    {% if user.is_authenticated %}
        <div class="min-h-screen flex items-center justify-center bg-slate-950 px-4">
            <div class="text-center text-white space-y-6">
                <h1 class="text-3xl font-bold mb-4">Welcome, {{ name|default:user.username }}!</h1>
                <p class="text-slate-300 mb-8">You are successfully logged in.</p>
                
                <div class="flex flex-col gap-4 items-center">
                    <a href="{% url 'dashboard' %}" class="w-full max-w-xs px-6 py-3 font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition">
                        Go to Dashboard
                    </a>
                    <p class="text-slate-400 text-sm">or</p>
                    <a href="{% url 'logout' %}" class="w-full max-w-xs px-6 py-3 font-medium text-white bg-slate-700 rounded-md hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-slate-500 transition">
                        Logout
                    </a>
                </div>
            </div>
        </div>
    {% else %}
        <div class="min-h-screen flex items-center justify-center bg-slate-950 px-4">
            <div class="flex flex-col justify-center w-full max-w-80 rounded-xl px-6 py-8 border border-slate-700 bg-slate-900 text-white text-sm">
            <h2 class="text-2xl font-semibold">Sign In</h2>
            <p class="text-slate-300 mt-1">Login to your account</p>
            
            {% if messages %}
                {% for message in messages %}
                    <div class="mt-4 p-3 bg-red-600/20 border border-red-600 rounded-md text-red-200 text-sm">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            
            <form class="mt-8" method="POST" action="{% url 'index' %}">
                {% csrf_token %}
                <label for="username" class="block mb-1 font-medium text-slate-300">Username</label>
                <input type="text" id="username" name="username" placeholder="Username" class="w-full p-2 mb-3 bg-slate-900 border border-slate-700 rounded-md focus:outline-none focus:ring-1 transition focus:ring-indigo-500 focus:border-indigo-500" required>

                <label for="password" class="block mb-1 font-medium text-slate-300">Password</label>
                <input type="password" id="password" name="password" placeholder="Password" class="w-full p-2 mb-2 bg-slate-900 border border-slate-700 rounded-md focus:outline-none focus:ring-1 transition focus:ring-indigo-500 focus:border-indigo-500" required>
                <div class="text-right">
                    <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500">Forgot password?</a>
                </div>
                <button type="submit" class="w-full mt-10 px-4 py-2.5 font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">Sign in</button>
            </form>
            </div>
        </div>
    {% endif %}

{% endblock %}