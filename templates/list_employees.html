{% extends 'layout.html' %}

{% block page_title %}Employees - Payroll Manager{% endblock %}
{% block header_title %}Employees{% endblock %}
{% block header_subtitle %}Manage all employees in the system{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-6">
    <h3 class="text-xl font-semibold text-white">All Employees</h3>
    <a href="{% url 'add_employee' %}" class="btn bg-indigo-600 text-white hover:bg-indigo-700">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
        </svg>
        Add Employee
    </a>
</div>

{% if employees %}
    <div class="bg-slate-900 border border-slate-700 rounded-xl overflow-hidden">
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-slate-800">
                    <tr>
                        <th class="text-left py-4 px-6 text-slate-300 font-medium">Name</th>
                        <th class="text-left py-4 px-6 text-slate-300 font-medium">Job Role</th>
                        <th class="text-left py-4 px-6 text-slate-300 font-medium">Department</th>
                        <th class="text-left py-4 px-6 text-slate-300 font-medium">Date Joined</th>
                        <th class="text-left py-4 px-6 text-slate-300 font-medium">Base Salary</th>
                        <th class="text-left py-4 px-6 text-slate-300 font-medium">Bank</th>
                    </tr>
                </thead>
                <tbody>
                    {% for emp in employees %}
                    <tr class="border-b border-slate-800 hover:bg-slate-800 transition">
                        <td class="py-4 px-6 text-white font-medium">{{ emp.user.get_full_name|default:emp.user.username }}</td>
                        <td class="py-4 px-6 text-slate-300">{{ emp.job_role.title|default:"N/A" }}</td>
                        <td class="py-4 px-6 text-slate-300">{{ emp.job_role.department|default:"N/A" }}</td>
                        <td class="py-4 px-6 text-slate-300">{{ emp.date_of_joining|date:"M d, Y" }}</td>
                        <td class="py-4 px-6 text-slate-300">â‚¹{{ emp.salary_base|floatformat:2 }}</td>
                        <td class="py-4 px-6 text-slate-300">{{ emp.bank_details.bank_name|default:"N/A" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% else %}
    <div class="bg-slate-900 border border-slate-700 rounded-xl p-12 text-center">
        <p class="text-slate-400 mb-4">No employees found.</p>
        <a href="{% url 'add_employee' %}" class="btn bg-indigo-600 text-white hover:bg-indigo-700">Add First Employee</a>
    </div>
{% endif %}
{% endblock %}
